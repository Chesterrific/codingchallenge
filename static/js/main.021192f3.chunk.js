(this.webpackJsonpcodingchallenge=this.webpackJsonpcodingchallenge||[]).push([[0],{19:function(e){e.exports=JSON.parse('[{"first_name":"Jack","last_name":"Smith","address":{"address1":"123 Main St.","address2":"#1","city":"San Francisco","state":"CA","zip":"94035"},"gender":"MALE","age":28,"order_total":{"amount":10028,"currency":"USD"}},{"first_name":"Jack","last_name":"Weber","address":{"address1":"94567 Side St.","address2":"#1","city":"London","state":"England","zip":"515151"},"gender":"MALE","age":30,"order_total":{"amount":110028,"currency":"GBP"}},{"first_name":"Jane","last_name":"Smith","address":{"address1":"123 Wood Ave.","address2":"#8","city":"New York","state":"NY","zip":"10001"},"gender":"FEMALE","age":32,"order_total":{"amount":510028,"currency":"GBP"}},{"first_name":"Chester","last_name":"Guinto","address":{"address1":"456 Steel Ave.","address2":"#13","city":"Avocado","state":"CA","zip":"12345"},"gender":"MALE","age":25,"order_total":{"amount":99999.99,"currency":"USD"}}]')},20:function(e){e.exports=JSON.parse('[{"currency":"USD","symbol":"&#36;"},{"currency":"GBP","symbol":"&#163;"}]')},26:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(1),s=a.n(r),c=a(17),i=a.n(c),l=a(2),o=a(9),d=(a(26),a(3));function u(e){var t=e.login,a=e.setLogin,r=e.setUsername,s="",c=Object(d.g)();return Object(n.jsxs)("div",{className:"login centered",children:[Object(n.jsx)("label",{children:"Username:"}),Object(n.jsx)("input",{onChange:function(e){s=e.target.value},type:"text",name:"username",id:"username"}),Object(n.jsx)("label",{children:"Password:"}),Object(n.jsx)("input",{type:"password",name:"password"}),Object(n.jsx)("button",{onClick:function(e){e.preventDefault(),""===s?alert("Username cannot be empty!"):(localStorage.setItem("loginStatus","true"),localStorage.setItem("username",s),r(s),a(!0),c.push("/"))},type:"submit",className:"".concat(t?"hidden":""),children:"Log In"}),Object(n.jsx)("button",{onClick:function(){localStorage.setItem("loginStatus","false"),a(!1),r(""),document.getElementById("username").value=""},type:"submit",className:"".concat(t?"":"hidden"),children:"Log Out"})]})}function j(e){var t=e.login,a=e.setLogin,r=e.setUsername;return t?Object(n.jsx)(d.a,{to:"/"}):Object(n.jsx)("div",{children:Object(n.jsx)(u,{login:t,setLogin:a,setUsername:r})})}var b=a(8),O=a(19),m=a(20);function g(e){var t=e.order,a=e.currency,r=e.edit,s=e.localTotal,c=e.totalHandler,i=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(t)}))};return r?Object(n.jsxs)("div",{className:"orderTotal",children:[Object(n.jsx)("span",{children:a.map((function(e){return e.currency===t.currency?i(e.symbol):""}))}),Object(n.jsx)("input",{type:"text",value:s,onChange:c})]}):Object(n.jsx)("div",{className:"orderTotal",children:a.map((function(e){if(e.currency===t.currency)return i(e.symbol)+parseFloat(t.amount).toFixed(2)}))})}function f(e){var t=e.address;return e.edit?Object(n.jsx)("input",{type:"text",value:t.address1+" "+t.address2+" "+t.city+", "+t.state+", "+t.zip}):Object(n.jsxs)("div",{className:"address",children:[Object(n.jsx)("div",{className:"streetAddress",children:t.address1+" "+t.address2}),Object(n.jsx)("div",{className:"locationAddress",children:t.city+", "+t.state+", "+t.zip})]})}function h(e){var t=e.loaded,a=e.filteredList,r=e.currency;return Object(n.jsxs)("div",{className:"data",children:[Object(n.jsxs)("div",{className:"dataEntry",id:"dataHeader",children:[Object(n.jsx)("div",{children:"First Name"}),Object(n.jsx)("div",{children:"Last Name"}),Object(n.jsx)("div",{children:"Address"}),Object(n.jsx)("div",{children:"Gender"}),Object(n.jsx)("div",{children:"Age"}),Object(n.jsx)("div",{children:"Order Amount"})]}),t?Object(n.jsx)("div",{className:"dataWrapper",children:a.map((function(e){return Object(n.jsx)("div",{children:Object(n.jsxs)(o.b,{className:"dataEntry link",to:"/userdetails/".concat(e.first_name,"/").concat(e.last_name,"/").concat(e.age),children:[Object(n.jsx)("div",{children:e.first_name}),Object(n.jsx)("div",{children:e.last_name}),Object(n.jsx)(f,{address:e.address}),Object(n.jsx)("div",{children:e.gender}),Object(n.jsx)("div",{children:e.age}),Object(n.jsx)(g,{order:e.order_total,currency:r})]})},e.first_name+e.last_name+e.age)}))}):Object(n.jsx)("div",{children:"Loading"})]})}function x(e){var t=e.search,a=e.setSearch,r=e.setCriteria;return Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:"searchDetails",children:[Object(n.jsx)("label",{children:"Search By:"}),Object(n.jsxs)("select",{name:"searchCategories",onChange:function(e){r(e.target.value)},children:[Object(n.jsx)("option",{value:"fName",children:"First Name"}),Object(n.jsx)("option",{value:"lName",children:"Last Name"}),Object(n.jsx)("option",{value:"amount",children:"Amount"})]}),Object(n.jsx)("input",{type:"text",onChange:function(e){a(e.target.value)},value:t})]})})}function p(e){var t=e.data,a=e.currency,s=e.loaded,c=Object(r.useState)([]),i=Object(l.a)(c,2),o=i[0],d=i[1],u=Object(r.useState)(""),j=Object(l.a)(u,2),b=j[0],O=j[1],m=Object(r.useState)("fName"),g=Object(l.a)(m,2),f=g[0],p=g[1];Object(r.useEffect)((function(){s&&d(t)}),[s]),Object(r.useEffect)((function(){v()}),[b,f]);var v=function(){switch(f){case"fName":d(t.filter((function(e){return e.first_name.toLowerCase().includes(b.toLowerCase())})));break;case"lName":d(t.filter((function(e){return e.last_name.toLowerCase().includes(b.toLowerCase())})));break;case"amount":if(""===b){d(t);break}d(t.filter((function(e){return e.order_total.amount===parseFloat(b)})));break;default:d(t)}};return Object(n.jsxs)("div",{className:"welcome centered",children:[Object(n.jsx)(x,{search:b,setSearch:O,setCriteria:p}),Object(n.jsx)(h,{loaded:s,filteredList:o,currency:a})]})}function v(e){var t=e.data,a=e.setData,s=e.currency,c=e.loaded,i=Object(r.useState)([]),o=Object(l.a)(i,2),u=o[0],j=o[1],O=Object(r.useState)(""),m=Object(l.a)(O,2),f=m[0],h=m[1],x=Object(r.useState)(""),p=Object(l.a)(x,2),v=p[0],S=p[1],y=Object(r.useState)(""),N=Object(l.a)(y,2),C=N[0],_=N[1],L=Object(r.useState)(""),D=Object(l.a)(L,2),I=D[0],w=D[1],A=Object(r.useState)(""),E=Object(l.a)(A,2),k=E[0],U=E[1],J=Object(r.useState)(""),F=Object(l.a)(J,2),z=F[0],M=F[1],B=Object(r.useState)(""),G=Object(l.a)(B,2),P=G[0],T=G[1],W=Object(r.useState)(""),H=Object(l.a)(W,2),Y=H[0],R=H[1],Z=Object(r.useState)(""),q=Object(l.a)(Z,2),K=q[0],Q=q[1],V=Object(r.useState)(""),X=Object(l.a)(V,2),$=X[0],ee=X[1],te=Object(d.h)(),ae=te.fname,ne=te.lname,re=te.age,se=Object(d.g)();Object(r.useEffect)((function(){j(t.filter((function(e){return e.first_name.toLowerCase().includes(ae.toLowerCase())&&e.last_name.toLowerCase().includes(ne.toLowerCase())&&parseFloat(e.age)===parseFloat(re)})))}),[t]),Object(r.useEffect)((function(){h(u.map((function(e){return e.first_name}))),S(u.map((function(e){return e.last_name}))),_(u.map((function(e){return e.address.address1}))),w(u.map((function(e){return e.address.address2}))),U(u.map((function(e){return e.address.city}))),M(u.map((function(e){return e.address.state}))),T(u.map((function(e){return e.address.zip}))),R(u.map((function(e){return e.gender}))),Q(u.map((function(e){return e.age}))),ee(u.map((function(e){return e.order_total.amount})))}),[u]);var ce=function(e){h(e.target.value)},ie=function(e){S(e.target.value)},le=function(e){_(e.target.value)},oe=function(e){w(e.target.value)},de=function(e){U(e.target.value)},ue=function(e){M(e.target.value)},je=function(e){T(e.target.value)},be=function(e){R(e.target.value)},Oe=function(e){Q(e.target.value)},me=function(e){ee(e.target.value)};return Object(n.jsxs)("div",{className:"userDetailWrapper",children:[Object(n.jsx)("h1",{children:"User Details"}),Object(n.jsxs)("div",{className:"options",children:[Object(n.jsx)("button",{onClick:function(){return function(e){console.log("submit");var n=t.map((function(t){return t.id===e.toString()?Object(b.a)(Object(b.a)({},t),{},{first_name:f.toString(),last_name:v.toString(),address:Object(b.a)(Object(b.a)({},t.address),{},{address1:C.toString(),address2:I.toString(),city:k.toString(),state:z.toString(),zip:P.toString()}),gender:Y.toString(),age:parseInt(K.toString()),id:f.toString()+v.toString()+parseInt(K.toString())+1e3*Math.random(),order_total:Object(b.a)(Object(b.a)({},t.order_total),{},{amount:parseFloat($.toString())})}):t}));a(n),alert("User: "+e+" has been updated."),se.push("/")}(u.map((function(e){return e.id})))},children:"Submit Changes"}),Object(n.jsx)("button",{onClick:function(){return function(e){console.log("delete");var n=t.filter((function(t){return t.id!==e.toString()}));a(n),alert("User: "+u.map((function(e){return e.id}))+" has been deleted."),se.push("/")}(u.map((function(e){return e.id})))},children:"Delete User"})]}),c?u.map((function(e){return Object(n.jsxs)("div",{className:"userDetails",children:[Object(n.jsxs)("div",{className:"userDetail",id:"fname",children:[Object(n.jsx)("label",{children:"First Name: "}),Object(n.jsx)("input",{type:"text",value:f,onChange:ce})]}),Object(n.jsxs)("div",{className:"userDetail",id:"lname",children:[Object(n.jsx)("label",{children:"Last Name: "}),Object(n.jsx)("input",{type:"text",value:v,onChange:ie})]}),Object(n.jsxs)("div",{className:"userDetail",id:"address1",children:[Object(n.jsx)("label",{children:"Street Address: "}),Object(n.jsx)("input",{type:"text",value:C,onChange:le})]}),Object(n.jsxs)("div",{className:"userDetail",id:"apt",children:[Object(n.jsx)("label",{children:"Apt: "}),Object(n.jsx)("input",{type:"text",value:I,onChange:oe})]}),Object(n.jsxs)("div",{className:"userDetail",id:"city",children:[Object(n.jsx)("label",{children:"City: "}),Object(n.jsx)("input",{type:"text",value:k,onChange:de})]}),Object(n.jsxs)("div",{className:"userDetail",id:"state",children:[Object(n.jsx)("label",{children:"State: "}),Object(n.jsx)("input",{type:"text",value:z,onChange:ue})]}),Object(n.jsxs)("div",{className:"userDetail",id:"zip",children:[Object(n.jsx)("label",{children:"ZIP Code: "}),Object(n.jsx)("input",{type:"text",value:P,onChange:je})]}),Object(n.jsxs)("div",{className:"userDetail",id:"gender",children:[Object(n.jsx)("label",{children:"Gender: "}),Object(n.jsx)("input",{type:"text",value:Y,onChange:be})]}),Object(n.jsxs)("div",{className:"userDetail",id:"age",children:[Object(n.jsx)("label",{children:"Age: "}),Object(n.jsx)("input",{type:"text",value:K,onChange:Oe})]}),Object(n.jsxs)("div",{className:"userDetail",id:"orderTotal",children:[Object(n.jsx)("label",{children:"Order Total: "}),Object(n.jsx)(g,{order:e.order_total,currency:s,edit:!0,localTotal:$,totalHandler:me})]})]},e.id)})):Object(n.jsx)("div",{children:"Loading"})]})}function S(e){var t=e.setLogin,a=e.username;return Object(n.jsxs)("nav",{className:"nav centered",children:[Object(n.jsxs)("h1",{children:["Welcome ",a]}),Object(n.jsx)("button",{onClick:function(){localStorage.setItem("loginStatus","false"),t(!1)},children:"Log Out"})]})}function y(e){var t=e.login,a=e.setLogin,s=e.username,c=e.path,i=Object(r.useState)([]),o=Object(l.a)(i,2),u=o[0],j=o[1],g=Object(r.useState)([]),f=Object(l.a)(g,2),h=f[0],x=f[1],y=Object(r.useState)(!1),N=Object(l.a)(y,2),C=N[0],_=N[1];if(Object(r.useEffect)((function(){if(!t)return null;try{(null===localStorage.getItem("data")||L(JSON.parse(localStorage.getItem("data"))))&&D()}catch(e){alert(e+"\n\n Resetting data."),console.error(e),D()}j(JSON.parse(localStorage.getItem("data"))),x(m),_(!0)}),[]),Object(r.useEffect)((function(){if(C){var e=u.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{id:e.first_name+e.last_name+e.age+1e3*Math.random()})}));j(e)}}),[C]),Object(r.useEffect)((function(){C&&localStorage.setItem("data",JSON.stringify(u))}),[u]),!t)return console.log("redirecting to login"),Object(n.jsx)(d.a,{to:"/login"});var L=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},D=function(){localStorage.setItem("data",JSON.stringify(O)),console.log("data set to local")};return Object(n.jsxs)("div",{children:[Object(n.jsx)(S,{setLogin:a,username:s}),Object(n.jsxs)(d.d,{children:[Object(n.jsx)(d.b,{path:c+"userdetails/:fname/:lname/:age",exact:!0,children:Object(n.jsx)(v,{data:u,setData:j,currency:h,loaded:C})}),Object(n.jsx)(d.b,{path:[c,"*"],exact:!0,children:Object(n.jsx)(p,{data:u,currency:h,loaded:C})})]})]})}function N(e){var t=e.login,a=e.setLogin,r=e.username,s=e.setUsername;return Object(n.jsxs)(d.d,{children:[Object(n.jsx)(d.b,{path:"/login",exact:!0,children:Object(n.jsx)(j,{login:t,setLogin:a,setUsername:s})}),Object(n.jsx)(y,{path:"/",login:t,setLogin:a,username:r})]})}var C=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),a=t[0],s=t[1],c=Object(r.useState)(""),i=Object(l.a)(c,2),d=i[0],u=i[1],j=Object(r.useState)(!1),b=Object(l.a)(j,2),O=b[0],m=b[1];Object(r.useEffect)((function(){g(),m(!0)}),[]);var g=function(){null===localStorage.getItem("loginStatus")?(localStorage.setItem("loginStatus","false"),localStorage.setItem("username",d),console.log("loginStatus was null."),console.log("Creating entry in local storage now.")):!1===JSON.parse(localStorage.getItem("loginStatus"))?console.log("loginStatus was false."):(s(JSON.parse(localStorage.getItem("loginStatus"))),u(localStorage.getItem("username")),console.log("Already logged in."))};return O?Object(n.jsx)(o.a,{children:Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(N,{login:a,setLogin:s,username:d,setUsername:u})})}):null};i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(C,{})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.021192f3.chunk.js.map